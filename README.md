# 牛耳标数据通信测试项目

##  项目简介
本项目用于测试 **牛耳标设备与手机端的数据通信**，实现从耳标采集数据、接收解析、保存到本地、并支持数据分享的完整流程。  

通过该项目可验证蓝牙通信协议的正确性、耳标数据稳定性，以及手机端对测量数据的处理。  

---

##  功能概述
- **蓝牙通信**：手机通过蓝牙连接牛耳标设备，实现数据实时传输与接收。  
- **数据解析**：对耳标上传的数据包进行协议解析与结构化处理。  
- **数据存储**：自动将测量数据保存到本地存储。  
- **数据分享**：测量完成后可一键分享数据（例如导出或通过社交应用分享）。  
- **UI展示**：在页面中实时显示当前测量状态、连接状态及数据结果。  

---

##  主要代码结构
```plaintext
lib/
├── main.dart                 # 项目入口文件
└── pages/
    └── measure/
        └── measure.dart      # 🔹 核心文件，负责耳标与手机的数据通信逻辑

 
```

- `measure.dart` 主要功能：
  - 管理蓝牙设备搜索、连接与数据监听；
  - 处理接收到的字节流（ACC、PPG 等）并转换为可用数据；
  - 调用保存与分享功能；
  - 更新 UI 状态与展示测量结果。

## 快速启动

1. 克隆项目

   ```
   git clone https://github.com/nonagontech/cow_tag.git
   ```

2. 安装依赖

   ```
   flutter pub get
   ```

3. （可选）配置 iOS 平台

   如需在 iOS 设备

   ```
   cd ios
   pod install
   ```

4. 运行项目

   ```
   flutter run
   ```

5. 连接耳标设备后开始测量。

------

## 测试说明

- 测试前请确保蓝牙权限已开启。
- 耳标需处于可连接状态。
- 测量数据自动保存至本地，可在应用内查看或导出。